{"version":3,"sources":["webpack:///C:/Users/38217/Documents/HBuilderProjects/TestUIVue2/uni_modules/v-tabs/components/v-tabs/v-tabs.vue?e093","webpack:///C:/Users/38217/Documents/HBuilderProjects/TestUIVue2/uni_modules/v-tabs/components/v-tabs/v-tabs.vue?f09d","webpack:///C:/Users/38217/Documents/HBuilderProjects/TestUIVue2/uni_modules/v-tabs/components/v-tabs/v-tabs.vue?ae05","webpack:///C:/Users/38217/Documents/HBuilderProjects/TestUIVue2/uni_modules/v-tabs/components/v-tabs/v-tabs.vue?84fd","uni-app:///uni_modules/v-tabs/components/v-tabs/v-tabs.vue","webpack:///C:/Users/38217/Documents/HBuilderProjects/TestUIVue2/uni_modules/v-tabs/components/v-tabs/v-tabs.vue?e75b","webpack:///C:/Users/38217/Documents/HBuilderProjects/TestUIVue2/uni_modules/v-tabs/components/v-tabs/v-tabs.vue?c048"],"names":["name","props","data","lineWidth","currentWidth","lineLeft","pillsLeft","scrollLeft","container","width","height","left","right","current","scrollWidth","computed","getDomId","pwd","watch","value","immediate","handler","methods","change","createQueryHandler","createSelectorQuery","in","update","_this","select","boundingClientRect","exec","calcScrollWidth","view","scrollOffset","callback","setScrollLeft","setLine"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA+H;AAC/H;AAC0D;AACL;AACsC;;;AAG3F;AACkL;AAClL,gBAAgB,6KAAU;AAC1B,EAAE,4EAAM;AACR,EAAE,6FAAM;AACR,EAAE,sGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,iGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AChCA;AAAA;AAAA;AAAA;AAA8qB,CAAgB,gnBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;AC8DlsB;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA1BA,eA2BA;EACAA;EACAC;EACAC;IACA;MACAC;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;QAAAC;QAAAC;QAAAC;QAAAC;MAAA;MAAA;MACAC;MAAA;MACAC;IACA;EACA;;EACAC;IACAC;MACA;MACA;MACA;MACA;MACA;QACAC;MACA;MACA;IACA;EACA;EACAC;IACAC;MACAC;MACAC;QACA;QACA;MACA;IACA;EACA;EACAC;IACA;IACAC;MACA;MACA;QACA;QACA;QACA;MACA;IACA;IACAC;MACA,gBACAC,sBAEAC;MAGA;IACA;IACAC;MAAA;MACA;MACA;QACA;QACA;QACAC,MACAJ,qBACAK,oCACAC;UACA;YAAArB;YAAAC;YAAAC;YAAAC;UACA;UACA;YAAAH;YAAAC;YAAAC;YAAAC;UAAA;UACAgB;UACAA;UACAA;QACA,GACAG;MACA;IACA;IACA;IACAC;MAAA;MACA;MACAC;QAAAC;MAAA;MACAD,KACAC;QACA;UACAC;QACA;UACA;UACA;QACA;MACA,GACAJ;IACA;IACA;IACAK;MAAA;MACA;QACA;QACA;QACA,4BACAP,uEACAC;UACA;UACA;UACA;UACA;UACA;UACAvB;UACA;UACA;UACA;UAAA,KACA;UACA;QACA,GACAwB;MACA;IACA;IACAM;MAAA;MACA;QACA;QACA,4BACAR,uEACAC;UACA;UACA;YACA;YACA;UACA;YACA;YACA;UACA;QACA,GACAC;MACA;IACA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;AC9NA;AAAA;AAAA;AAAA;AAA6yC,CAAgB,unCAAG,EAAC,C;;;;;;;;;;;ACAj0C;AACA,OAAO,KAAU,EAAE,kBAKd","file":"uni_modules/v-tabs/components/v-tabs/v-tabs.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./v-tabs.vue?vue&type=template&id=fa47ca0a&scoped=true&\"\nvar renderjs\nimport script from \"./v-tabs.vue?vue&type=script&lang=js&\"\nexport * from \"./v-tabs.vue?vue&type=script&lang=js&\"\nimport style0 from \"./v-tabs.vue?vue&type=style&index=0&id=fa47ca0a&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"fa47ca0a\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"uni_modules/v-tabs/components/v-tabs/v-tabs.vue\"\nexport default component.exports","export * from \"-!../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./v-tabs.vue?vue&type=template&id=fa47ca0a&scoped=true&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  _vm.$initSSP()\n  var l0 = _vm.__map(_vm.tabs, function (v, i) {\n    var $orig = _vm.__get_orig(v)\n    if (_vm.$scope.data.scopedSlotsCompiler === \"augmented\") {\n      _vm.$setSSP(\"default\", {\n        row: $orig,\n        index: i,\n      })\n    }\n    return {\n      $orig: $orig,\n    }\n  })\n  var g0 = _vm.tabs.length\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l0: l0,\n        g0: g0,\n      },\n    }\n  )\n  _vm.$callSSP()\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./v-tabs.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./v-tabs.vue?vue&type=script&lang=js&\"","<template>\r\n  <view class=\"v-tabs\">\r\n    <scroll-view\r\n      :id=\"getDomId\"\r\n      :scroll-x=\"scroll\"\r\n      :scroll-left=\"scroll ? scrollLeft : 0\"\r\n      :scroll-with-animation=\"scroll\"\r\n      :style=\"{ position: fixed ? 'fixed' : 'relative', zIndex }\">\r\n      <view\r\n        class=\"v-tabs__container\"\r\n        :style=\"{\r\n          display: scroll ? 'inline-flex' : 'flex',\r\n          whiteSpace: scroll ? 'nowrap' : 'normal',\r\n          background: bgColor,\r\n          height,\r\n          padding\r\n        }\">\r\n        <view\r\n          :class=\"['v-tabs__container-item', { disabled: !!v.disabled }, { active: current == i }]\"\r\n          v-for=\"(v, i) in tabs\"\r\n          :key=\"i\"\r\n          :style=\"{\r\n            color: current == i ? activeColor : color,\r\n            fontSize: current == i ? fontSize : fontSize,\r\n            fontWeight: bold && current == i ? 'bold' : '',\r\n            justifyContent: !scroll ? 'center' : '',\r\n            flex: scroll ? '' : 1,\r\n            padding: paddingItem\r\n          }\"\r\n          @click=\"change(i)\">\r\n          <slot :row=\"v\" :index=\"i\">{{ field ? v[field] : v }}</slot>\r\n        </view>\r\n        <template v-if=\"!!tabs.length\">\r\n          <view\r\n            v-if=\"!pills\"\r\n            :class=\"['v-tabs__container-line', { animation: lineAnimation }]\"\r\n            :style=\"{\r\n              background: lineColor,\r\n              width: lineWidth + 'px',\r\n              height: lineHeight,\r\n              borderRadius: lineRadius,\r\n              transform: `translate3d(${lineLeft}px, 0, 0)`\r\n            }\" />\r\n          <view\r\n            v-else\r\n            :class=\"['v-tabs__container-pills', { animation: lineAnimation }]\"\r\n            :style=\"{\r\n              background: pillsColor,\r\n              borderRadius: pillsBorderRadius,\r\n              width: currentWidth + 'px',\r\n              transform: `translate3d(${pillsLeft}px, 0, 0)`,\r\n              height\r\n            }\" />\r\n        </template>\r\n      </view>\r\n    </scroll-view>\r\n    <!-- fixed 的站位高度 -->\r\n    <view class=\"v-tabs__placeholder\" :style=\"{ height: fixed ? height : '0', padding }\"></view>\r\n  </view>\r\n</template>\r\n\r\n<script>\r\nimport { startMicroTask } from './utils'\r\nimport props from './props'\r\n/**\r\n * v-tabs\r\n * @property {Number} value 选中的下标\r\n * @property {Array} tabs tabs 列表\r\n * @property {String} bgColor = '#fff' 背景颜色\r\n * @property {String} color = '#333' 默认颜色\r\n * @property {String} activeColor = '#2979ff' 选中文字颜色\r\n * @property {String} fontSize = '28rpx' 默认文字大小\r\n * @property {String} activeFontSize = '28rpx' 选中文字大小\r\n * @property {Boolean} bold = [true | false] 选中文字是否加粗\r\n * @property {Boolean} scroll = [true | false] 是否滚动\r\n * @property {String} height = '60rpx' tab 的高度\r\n * @property {String} lineHeight = '10rpx' 下划线的高度\r\n * @property {String} lineColor = '#2979ff' 下划线的颜色\r\n * @property {Number} lineScale = 0.5 下划线的宽度缩放比例\r\n * @property {String} lineRadius = '10rpx' 下划线圆角\r\n * @property {Boolean} pills = [true | false] 是否胶囊样式\r\n * @property {String} pillsColor = '#2979ff' 胶囊背景色\r\n * @property {String} pillsBorderRadius = '10rpx' 胶囊圆角大小\r\n * @property {String} field 如果是对象，显示的键名\r\n * @property {Boolean} fixed = [true | false] 是否固定\r\n * @property {String} paddingItem = '0 22rpx' 选项的边距\r\n * @property {Boolean} lineAnimation = [true | false] 下划线是否有动画\r\n * @property {Number} zIndex = 1993 默认层级\r\n *\r\n * @event {Function(current)} change 改变标签触发\r\n */\r\nexport default {\r\n  name: 'VTabs',\r\n  props,\r\n  data() {\r\n    return {\r\n      lineWidth: 30,\r\n      currentWidth: 0, // 当前选项的宽度\r\n      lineLeft: 0, // 滑块距离左侧的位置\r\n      pillsLeft: 0, // 胶囊距离左侧的位置\r\n      scrollLeft: 0, // 距离左边的位置\r\n      container: { width: 0, height: 0, left: 0, right: 0 }, // 容器的宽高，左右距离\r\n      current: 0, // 当前选中项\r\n      scrollWidth: 0 // 可以滚动的宽度\r\n    }\r\n  },\r\n  computed: {\r\n    getDomId() {\r\n      const len = 16\r\n      const $chars = 'ABCDEFGHJKMNPQRSTWXYZabcdefhijkmnprstwxyz2345678' /****默认去掉了容易混淆的字符oOLl,9gq,Vv,Uu,I1****/\r\n      const maxPos = $chars.length\r\n      let pwd = ''\r\n      for (let i = 0; i < len; i++) {\r\n        pwd += $chars.charAt(Math.floor(Math.random() * maxPos))\r\n      }\r\n      return `xfjpeter_${pwd}`\r\n    }\r\n  },\r\n  watch: {\r\n    value: {\r\n      immediate: true,\r\n      handler(newVal) {\r\n        this.current = newVal\r\n        this.$nextTick(this.update)\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    // 切换事件\r\n    change(index) {\r\n      const isDisabled = !!this.tabs[index].disabled\r\n      if (this.current !== index && !isDisabled) {\r\n        this.current = index\r\n        this.$emit('input', index)\r\n        this.$emit('change', index)\r\n      }\r\n    },\r\n    createQueryHandler() {\r\n      const query = uni\r\n        .createSelectorQuery()\r\n        // #ifndef MP-ALIPAY\r\n        .in(this)\r\n      // #endif\r\n\r\n      return query\r\n    },\r\n    update() {\r\n      const _this = this\r\n      startMicroTask(() => {\r\n        // 没有列表的时候，不执行\r\n        if (!this.tabs.length) return\r\n        _this\r\n          .createQueryHandler()\r\n          .select(`#${this.getDomId}`)\r\n          .boundingClientRect(data => {\r\n            const { width, height, left, right } = data || {}\r\n            // 获取容器的相关属性\r\n            this.container = { width, height, left, right: right - width }\r\n            _this.calcScrollWidth()\r\n            _this.setScrollLeft()\r\n            _this.setLine()\r\n          })\r\n          .exec()\r\n      })\r\n    },\r\n    // 计算可以滚动的宽度\r\n    calcScrollWidth(callback) {\r\n      const view = this.createQueryHandler().select(`#${this.getDomId}`)\r\n      view.fields({ scrollOffset: true })\r\n      view\r\n        .scrollOffset(res => {\r\n          if (typeof callback === 'function') {\r\n            callback(res)\r\n          } else {\r\n            // 获取滚动条的宽度\r\n            this.scrollWidth = res.scrollWidth\r\n          }\r\n        })\r\n        .exec()\r\n    },\r\n    // 设置滚动条滚动的进度\r\n    setScrollLeft() {\r\n      this.calcScrollWidth(res => {\r\n        // 动态读取 scrollLeft\r\n        let scrollLeft = res.scrollLeft\r\n        this.createQueryHandler()\r\n          .select(`#${this.getDomId} .v-tabs__container-item.active`)\r\n          .boundingClientRect(data => {\r\n            if (!data) return\r\n            // 除开当前选项外容器的一半宽度\r\n            let curHalfWidth = (this.container.width - data.width) / 2\r\n            let scrollDiff = this.scrollWidth - this.container.width\r\n            // 在原有滚动条的基础上 + (当前元素距离左侧的距离 - 计算的一半宽度) - 容器的外边距之类的\r\n            scrollLeft += data.left - curHalfWidth - this.container.left\r\n            // 已经滚动在左侧了\r\n            if (scrollLeft < 0) scrollLeft = 0\r\n            // 已经超出右侧了\r\n            else if (scrollLeft > scrollDiff) scrollLeft = scrollDiff\r\n            this.scrollLeft = scrollLeft\r\n          })\r\n          .exec()\r\n      })\r\n    },\r\n    setLine() {\r\n      this.calcScrollWidth(res => {\r\n        const scrollLeft = res.scrollLeft\r\n        this.createQueryHandler()\r\n          .select(`#${this.getDomId} .v-tabs__container-item.active`)\r\n          .boundingClientRect(data => {\r\n            if (!data) return\r\n            if (this.pills) {\r\n              this.currentWidth = data.width\r\n              this.pillsLeft = scrollLeft + data.left - this.container.left\r\n            } else {\r\n              this.lineWidth = data.width * this.lineScale\r\n              this.lineLeft = scrollLeft + data.left + (data.width - data.width * this.lineScale) / 2 - this.container.left\r\n            }\r\n          })\r\n          .exec()\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.v-tabs {\r\n  width: 100%;\r\n  box-sizing: border-box;\r\n  overflow: hidden;\r\n\r\n  /* #ifdef H5 */\r\n  ::-webkit-scrollbar {\r\n    display: none;\r\n  }\r\n  /* #endif */\r\n\r\n  &__container {\r\n    min-width: 100%;\r\n    position: relative;\r\n    display: inline-flex;\r\n    align-items: center;\r\n    white-space: nowrap;\r\n    overflow: hidden;\r\n\r\n    &-item {\r\n      flex-shrink: 0;\r\n      display: flex;\r\n      align-items: center;\r\n      height: 100%;\r\n      position: relative;\r\n      z-index: 10;\r\n      transition: all 0.3s;\r\n      white-space: nowrap;\r\n\r\n      &.disabled {\r\n        opacity: 0.5;\r\n        color: #999;\r\n      }\r\n    }\r\n\r\n    &-line {\r\n      position: absolute;\r\n      left: 0;\r\n      bottom: 0;\r\n    }\r\n\r\n    &-pills {\r\n      position: absolute;\r\n      z-index: 9;\r\n    }\r\n\r\n    &-line,\r\n    &-pills {\r\n      &.animation {\r\n        transition: all 0.3s linear;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./v-tabs.vue?vue&type=style&index=0&id=fa47ca0a&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./v-tabs.vue?vue&type=style&index=0&id=fa47ca0a&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1713489224426\n      var cssReload = require(\"C:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}